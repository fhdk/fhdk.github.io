<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Linux dual-boot Windows - Notes and Bookmarks</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Linux dual-boot Windows";
        var mkdocs_page_input_path = "manjaro/notes/manjaro-dual-boot-windows.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Notes and Bookmarks
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../../about.md">About</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Bookmarks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../bookmarks/bookmark-linux-finding-port-origin/">Linux finding port origin</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Notes</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Dotnet</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../dotnet/blazor-wasm-collapsible-sidebar/">Blazor WASM collapsible menu</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../dotnet/blazor-wasm-pwa-service-worker/">Blazor WASM PWA service-worker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../dotnet/csharp-api-response-custom-header/">Web API2 Expose Custom Header</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../dotnet/dotnet-different-versions/">Different dotnet versions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../dotnet/dotnet-notes-certificate/">Creating a dotnet development certificate</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >MacOS</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../macos/macos-create-installer-image/">macOS installer</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Manjaro</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../ai/manjaro-folding-at-home/">Manjaro Folding@Home</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../android/android-manjaro-droid-cam/">Droid Cam on Manjaro</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../android/android-manjaro-iriun-webcam/">Iriun Web Cam on Manjaro</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cheats/cheatsheet-tmux/">tmux cheatsheet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/configuration-alacritty-terminal-emulator/">Alacritty Terminal Emulator</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/configuration-change-username/">Change username</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/configuration-import-pfx-certificate/">Import pfx certificats on Manjaro</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/configuration-manjaro-tools-build-mirror/">Manjaro Tools build_mirror</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/configuration-x11-over-ssh/">X11 over SSH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../grub/grub-boot-iso-directly/">Boot ISO from GRUB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../grub/grub-support-for-luks2-container/">Grub load system from luks2 container</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-cloud-instance-using-cloud-init/">Manjaro cloud instance using cloud-init</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-kde-plasma/">CLI to LXDE</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-mate-systemd-boot-and-luks/">Mimick Manjaro Mate using sdboot and luks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-on-a-stick/">Manjaro on a stick</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-systemd-boot-and-luks/">Manjaro base using sdboot and luks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-systemd-boot-basic/">systemd-boot - BASIC - installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-systemd-boot-luks-btrfs/">systemd-boot - LUKS - btrfs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-systemd-boot-luks-ext4/">systemd-boot - LUKS - ext4</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-using-luks/">Encrypted CLI installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-cli-installation-vanilla-gnome/">CLI to vanilla Gnome</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-persistent-usb-installation/">Manjaro Persistent USB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/manjaro-usb-to-go-with-persistience/">USB LXDE with persistence</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../luks/luks-change-phrase/">Changing LUKS passphrase</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../luks/luks-dm-crypt-notes/">dm-crypt notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-maintenance-00-about-manjaro-and-aur/">About Manjaro and AUR</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-maintenance-01-i-am-not-to-blame/">What is wrong - I am not to blame</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-maintenance-02-responsible-use-of-aur/">Responsible use of AUR</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-maintenance-03-aur-restrain-yourself/">AUR - please restrain yourself</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-maintenance-04-update-the-smart-way/">Update Manjaro the smart way</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../maintenance/manjaro-update-practise/">Smart Manjaro system update</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../mirror/manjaro-offline-package-installation/">Manjaro - offline package installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../mirror/manjaro-portable-mirror/">Portable Manjaro Mirror</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/network-basic-iptables-rules/">Basic firewall (iptables) rules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/network-basic-troubleshooting/">Network know-how</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/network-dns-using-bind-for-local-domain/">Using bind for local domain</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/network-share-peer-to-peer-connection/">Share network connection peer-to-peer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/network-tigervnc-over-ssh/">TigerVNC over SSH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../network/networkmanager-disable-connectivity-check/">Disable NetworkManager connectivity check</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../nfs/nfs-file-sharing-manjaro/">Setting up NFS using Manjaro</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../nfs/nfs-synology-nas/">Connect to Synology NFS share</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-arm-hacking-desktop-installer/">Hacking ARM desktop installer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-arm-hacking-installer-to-enable-wifi/">Hacking ARM install image to connect to WiFi</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-be-compatible-with-vpn-providers/">Make Manjaro compatible with VPN providers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-convert-to-arch/">Convert Manjaro to Arch</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-dual-boot-manjaro-and-windows/">Dual boot Manjaro and Windows</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Linux dual-boot Windows</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-iso-to-usb-no-wasted-space/">ISO to USB no wasted space</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-iso-tty-autologin/">Automated ISO login</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-reinstall-withoug-losing-data/">Reinstall Manjaro without loosing data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-run-java-application/">Run a Java program on Manjaro</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../manjaro-simple-nas-configuration/">Manjaro NAS (network attached storage)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../share-data-in-multi-boot-environment/">Sharing data in multi-boot environment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../share-data-in-multiuser-environment/">Sharing data in multiuser environment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ssh-secure-your-ssh-service/">SSH server security</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../thunar-custom-actions/">Thunar custom actions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../pine64/pinebook-pro-network-wifi-privacy-cycle/">Pinebook Pro Network Wifi Privacy Cycle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../pine64/pinephone-community-edition/">Pine Phone Community Edition</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-install-nextcloud/">Install NextCloud on Raspberry Pi</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-notes/">Raspberry Pi notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-selfhosted-nextcloud/">Sharing Pi NextClound</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-ubuntu-server/">Ubuntu Server on RPi</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-vnc-over-ssh/">Raspberry Pi VNC over SSH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../raspberry-pi/raspberry-pi-zero-w-prepare-wireless-connection/">Pi Zero W - prepare wireless connection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-arm-wireless-file-service/">ARM wireless Samba file service based on Arch</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-basic-setup-and-troubleshooting/">Basic Samba Setup and Troubleshooting</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-from-scratch/">Samba From Scratch</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-minimal-configuration/">Minimal SMB configuration</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-protocols-overview/">SMB protocols overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../samba/samba-quick-setup-public-read-write-shares/">Samba Quick Setup public read-write shares</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-arm-image-wifi-hack/">Arch ARM image WiFi hack</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-battery-charge-notifier/">Battery Charge Notifier</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-check-aur-buildscript-changes/">Check AUR buildscript changes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-check-if-update-may-require-reboot/">Kontroller om genstart er nødvendig før du opdaterer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-get-lan-ip-address/">Get LAN IP address</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-mount-samba-share-as-user/">Mount samba share as user</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-package-and-configuration-backup/">Packagelist and Configuration backup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-set-default-browser/">Set Browser Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-template-freerdp/">Get LAN IP address</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../scripts/script-usb-partion-format/">USB partition script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../secure-boot/secure-boot-manjaro-using-repo-only/">Manjaro and Windows - Secure Boot - repo only</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-configuration/">systemd - mount units</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-ftp-sample/">FTP mount unit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-nfs-sample/">NFS mount unit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-partition-sample/">Partition mount unit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-removable-sample/">USB device</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-samba-sample/">SMB mount unit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-mount-unit-webdav-sample/">WEBDAV mount unit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../systemd/systemd-unit-documentation/">Systemd unit manual</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-boot-to-shell/">kernel init</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-locale-error-messages/">Locale error messages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-makepkg-missing-gpg-keys/">Retrieve missing GPG using makepkg</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-manjaro-windows-dual-boot/">Troubleshooting Manjaro Windows dual-boot</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-system-missing-firmware/">Troubleshooting missing firmware access</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/troubleshoot-using-reisub/">REISUB / REISUO</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../virtual/libvirt-install-windows-11/">virt-manager - Windows 11</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../virtual/virtualbox-headless-windows/">Headless Windows on VirtualBox</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >MS-Windows</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../ms-windows/ms-windows-avoid-ms-account-on-installation/">Install with local account</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../ms-windows/ms-windows-create-a-windows-usb/">Create a Windows USB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../ms-windows/ms-windows-killing-process/">Killing process in MS Windows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../ms-windows/ms-windows-visual-studio-iis-express-configuration/">Visual Studio IISExpress</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Notes</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/essay-linux-is-not-windows/">Linux is Not Windows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/essay-the-perfext-linux-os/">The perfect Linux OS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/md-raid-notes/">MD/RAID notes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mount-disk-using-fstab/">Permanent mounts using fstab</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mount-loop-img-files/">CLI mount .img files on Arch based system</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mount-storage-partition-mount-using-fstab/">Store personal files using separate partition (fstab)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mount-storage-partition-mount-using-systemd/">Store personal files using separate partition (systemd)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mount-windows-partition/">Access my second harddrive</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/mouse-and-keyboard-sharing/">Mouse and keyboard sharing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/ms-sql-notes/">Contraints</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/powershell-sql-queries/">Using Powershell for SQL queries</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/systemd-boot-notes/">Notes on systemd-boot</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/tools-linux-recovery-tools-and-iso/">Tools Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/ubiquiti-flash-usg-3p/">Flash USG-3P</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/usb-clearing-a-stubborn-device/">Clearing a stubborn storage device</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../notes/xorg-intel-x11-config/">Intel Xorg config</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Notes and Bookmarks</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Notes</li>
          <li class="breadcrumb-item">Manjaro</li>
      <li class="breadcrumb-item active">Linux dual-boot Windows</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="calamares-dual-boot-installation">Calamares dual-boot installation</h2>
<hr />
<ul>
<li>Firmware</li>
<li>Checklist</li>
<li>Boot mode</li>
<li>Windows preparation</li>
<li>Manjaro installation</li>
<li>Revisions</li>
</ul>
<h2 id="firmware">Firmware</h2>
<hr />
<p>The firmware is a crucial part of your system as it controls aspects  on how the Linux kernel will interact with your the hardware. Some  system firmware is setup in such a way that a Linux system does not  recognize disk devices.</p>
<h3 id="checklist">Checklist</h3>
<ul>
<li>Use latest available firmware (check your vendor's support section)</li>
<li>Disable Intel Optane memory (incompatible with Linux)</li>
<li>Disable Fake RAID option (or check <a href="https://wiki.archlinux.org/index.php/Install_Arch_Linux_with_Fake_RAID">archlinux wiki</a>)</li>
<li>Enable AHCI</li>
<li>Disable Secure Boot (or check <a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface/Secure_Boot">archlinux wiki</a>)</li>
<li>Disable Windows Fast Boot, Windows hibernation and/or Windows hybrid sleep.</li>
<li>System boot method (BIOS or UEFI)</li>
</ul>
<p>Some systems require the user to set a firmware password before more advanced options becomes available.</p>
<h2 id="boot-mode-uefi-vs-bios">Boot mode UEFI vs BIOS</h2>
<hr />
<p>Computers with preinstalled Windows (Windows 10) is computers using UEFI firmware.</p>
<p>However your system may be configured to allow BIOS boot also labeled as <strong>Legacy</strong>, <strong>CSM</strong>(Compatibility Mode) or <strong>BIOS/MBR</strong>.</p>
<p>The main difference is partition layout schema used.</p>
<h3 id="partition-schema">Partition schema</h3>
<p>This is the original schema which has limitations on modern systems. The most notable limitation is the number of partitions which is 4 primary partitions compared to GPT which allows for 128 partitions.</p>
<ul>
<li><strong>UEFI</strong> does not work with MBR partition schema</li>
</ul>
<p>An EFI based system uses GPT partition schema and using GRUB boot loader it is also possible to use GPT while still using the older BIOS boot method.</p>
<p>It is very important to choose the correct combination - otherwise Calamares installer will fail in the end when reaching the boot loader stage of the installation.</p>
<h3 id="installing-in-efi-mode">Installing in EFI mode</h3>
<p>This requires a separate partition flagged as <strong>boot</strong>. The partition must be formatted using <strong>FAT32</strong> and is usually mounted to <strong>/boot/efi</strong>.</p>
<h3 id="installing-in-bios-mode">Installing in BIOS mode</h3>
<p>If you choose to install a system using BIOS boot mechanism you must boot the system in BIOS mode you must select manual partitioning in Calamares. Besides the usual root and possibly home you must create 32MB unformatted partition - which must be flagged as <strong>bios-boot</strong> - do not format the partition. When asked for the boot loader location - select this unformatted partition as target for the bootloader.</p>
<h2 id="windows-preparation">Windows preparation</h2>
<hr />
<p>The next parts of this section is all executed inside your current Windows installation.</p>
<h3 id="filesystem-check">Filesystem check</h3>
<p>Linux is picky when it comes the Windows filesystem. Any inconsistencies in the filesystem and Linux will mount the filesystem <strong>read-only</strong>. The Windows command to fix the file system is</p>
<pre><code>chkdsk c: /F
</code></pre>
<h3 id="system-clock">System clock</h3>
<p>Configure your Windows installation to use UTC. This is done best with a registry import file.</p>
<p>Create a new file using Notepad with this content (e.g. <code>utc.txt</code>)</p>
<pre><code class="language-txt">Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation]
&quot;RealTimeIsUniversal&quot;=dword:00000001
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\TimeProviders\NtpClient]
&quot;Enabled&quot;=dword:00000000
</code></pre>
<p>Open a command prompt and navigate to your desktop folder and rename the file to <code>utc.reg</code></p>
<pre><code class="language-txt">C:\Users\**username**&gt; cd Desktop
C:\Users\**username**\Desktop&gt; move utc.txt utc.reg
</code></pre>
<p>You can now import the file into the registry by double clicking the filename - accept the disclaimer to import the keys.</p>
<h3 id="disable-windows-features">Disable Windows features</h3>
<p>Do you plan on doing read/write on your Windows partition? Disable Windows options like</p>
<ul>
<li>Fast Startup</li>
<li>Hybrid Sleep </li>
</ul>
<p>Windows <strong>Hybrid Sleep</strong> defaults to enabled on desktop computers and disabled for laptop computers.</p>
<p><strong>Why should I do that?</strong> When Windows uses the above options the filesystem is tainted which causes the system to mount the file system <strong>read-only</strong>, effectively blocking you from making changes to your files on the  Windows partition. To disable Windows Fast Startup you need to access  the Windows Control Panel. You find it by clicking on <strong>Windows Start</strong> button → type <strong>control</strong> → select <strong>Control Panel</strong> desktop app.</p>
<p>In the Control Panel app</p>
<ol>
<li>Click on <strong>System and Security</strong></li>
<li>Click on <strong>Power Options</strong></li>
<li>Click on <strong>Choose what power buttons do</strong>
    a. Click on <strong>Change settings that are currently unavailable</strong>
    b. Uncheck the option <strong>Turn on fast startup</strong></li>
<li>Click on <strong>Save Changes</strong></li>
</ol>
<p>If for any reason you want to turn off hibernation completely</p>
<ul>
<li>Open command prompt as Administrator</li>
<li>Input <strong>powercfg /h off</strong> and press <strong>Enter</strong></li>
</ul>
<h3 id="clean-your-windows-system">Clean your Windows system</h3>
<p>If you are like most users, your system came with Windows and your  system has since been upgraded to Windows 10 (which leaves the old  system behind). Major version upgrades - like 1804 - also leaves the old system behind and therefore a tremendous amount of dead data on your  system that needs to be cleaned. </p>
<ol>
<li>Open Windows Explorer File manager and select <strong>My Computer</strong>.</li>
<li>Right click on you local drive <strong>C:</strong> → <strong>Properties</strong></li>
<li>Click on <strong>Disk Cleanup</strong> button → wait</li>
<li>Click on the <strong>Cleanup Systemfiles</strong> → wait</li>
<li><strong>check all items</strong> in the list (including the old Windows installation) → <strong>OK</strong></li>
<li>Wait → wait until finished.</li>
<li>Close all windows</li>
</ol>
<h3 id="backup-your-documents">Backup your documents</h3>
<p>This should be an obvious step. <strong>Backup</strong> any data you might want to keep <strong>to an external location</strong> of any kind.</p>
<h3 id="partition-cleanup">Partition cleanup</h3>
<p>If you have experimented a lot and/or had a failed installation  and/or you have a messy partition scheme you will have to manually  delete those extra partitions with the Windows Disk Manager tool. Be  careful that you do not delete partitions required by Windows or by an  OEM recovery tool.</p>
<h3 id="disk-space">Disk space</h3>
<p>Use Windows disk tool to make room for a secondary Linux installation because Windows is the best tool to release space.</p>
<ol>
<li>So boot into Windows.</li>
<li>Rightclick on <strong>Start</strong> → select <strong>Disk Manager</strong></li>
<li>In Disk Manager - rightclick on your Windows drive <strong>C:</strong> → select <strong>Shrink partition</strong></li>
<li>A reasonable size to release - depending on available space - would be 32768-65536 MiB (32-64GiB) or more.</li>
<li>When you are ready click <strong>Shrink</strong></li>
</ol>
<p>When you are done you are ready for the Manjaro installation. </p>
<h2 id="installation">Installation</h2>
<hr />
<p>Some of the choices presented here can be argued and the following two points I would like to address beforehand.</p>
<h3 id="auto-partitioning-vs-manual-partitioning">Auto partitioning vs Manual partitioning</h3>
<p>Some will argue that one should select the auto partition in the <strong>Disk preparation</strong> section of the installer.</p>
<blockquote>
<p>The strategy described here <strong>ensures</strong> no messing with the Windows EFI partition and therefore no problems with Windows rewriting the $esp.</p>
</blockquote>
<h3 id="separate-root-and-home">Separate root and /home</h3>
<p>Separation of the system root and the home folder is not required but is another benefit of using manual partitioning. </p>
<p>The separation of your personal data from the system - using a  designated partition for the system's home folder makes it a bit easier  to maintain your system. It is no secure replacement for a backup  strategy it is just a handy solution should you decide to reinstall your system.</p>
<p>One pitfall here is making the root partition too small - using the  recommended minimum size requires you to do regular system maintenance to avoid the system disk running full and thus making your system very  hard to boot.</p>
<p>Other considerations is application distribution methods such as snap and flatpak both of which requires a considerable amounts a disk estate.</p>
<p>Depending on your available disk space your system root could be from 32-64GB. The remaining is assigned to your personal data.</p>
<p>The number mentioned is just examples - they will work if you are just getting your fet wet and needs a gentle hand holding.</p>
<h3 id="swap-size">Swap size</h3>
<p>Setting a swap partition is the better choice because a little swap is - in most cases - better than none. </p>
<p>The chosen size depends on your system, available RAM and disk type. Use the suggested size of 2 GiB <strong>*or*</strong> research and adjust accordingly to system, taste and need.</p>
<p>If you plan on using hibernation ensure the swap can hold both system and graphics memory.</p>
<h2 id="installation_1">Installation</h2>
<hr />
<p>Now that you have partition sizes defined let start and the numbers are MB which is the unit Calamares makes use of</p>
<ol>
<li>Reboot your computer to the live USB media.</li>
<li>Launch the graphical installer - it is named Calamares.</li>
<li>Follow the guide until you reach the <strong>Disk</strong> selection/preparation</li>
<li>Select <strong>Manual partitioning</strong> → <strong>Next</strong>.</li>
<li>Select the correct disk selected - should be easy to see.</li>
<li><strong>BOOT PARTITION</strong> either or - not both</li>
<li><strong>EFI</strong>
     a. Select the unpartitioned space  → <strong>Create</strong>
     b. <strong>Size</strong> → input <strong>512</strong>
     c. <strong>Filesystem</strong> → select <strong>FAT32</strong>
     d. <strong>Mountpoint</strong> → select <strong>/boot/efi</strong>
     e. <strong>Flags</strong> → check <strong>boot</strong> → <strong>OK</strong></li>
<li><strong>BIOS</strong>
     a. Select unpartitioned space → <strong>Create</strong>
     b. <strong>Size</strong> → input <strong>32</strong>
     c. <strong>Filesystem</strong> → select <strong>unformatted</strong>
     d. <strong>Flags</strong> → check <strong>bios-boot</strong> → <strong>OK</strong></li>
<li><strong>SWAP PARTITION</strong>
    a. Select the unpartitioned space → <strong>Create</strong>
    b. <strong>Size</strong> → input <strong>2048</strong> or the number you decided to use
    c.. <strong>Filesystem</strong> → select <strong>linuxswap</strong> → <strong>OK</strong></li>
<li><strong>ROOT PARTITION</strong>
    a. Select the unpartitioned space → <strong>Create</strong>
    b. <strong>Size</strong> → input <strong>32768</strong> (32G) or the number you decided to use
    d.. <strong>Filesystem</strong> → select <strong>ext4</strong>
    d. <strong>Mountpoint</strong> → select <strong>/</strong> (root) → <strong>OK</strong></li>
<li><strong>HOME PARTITION</strong>
    a. Select the unpartitioned space → <strong>Create</strong>
    b. <strong>Size</strong> → Use remaining
    b. <strong>Filesystem</strong> → select <strong>ext4</strong>
    d. <strong>Mountpoint</strong> → select <strong>/home</strong> → <strong>OK</strong></li>
<li><strong>Next</strong></li>
<li><strong>Reboot</strong></li>
</ol>
<h2 id="thats-it">That's it</h2>
<p>Enjoy ...</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../manjaro-dual-boot-manjaro-and-windows/" class="btn btn-neutral float-left" title="Dual boot Manjaro and Windows"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../manjaro-iso-to-usb-no-wasted-space/" class="btn btn-neutral float-right" title="ISO to USB no wasted space">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../manjaro-dual-boot-manjaro-and-windows/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../manjaro-iso-to-usb-no-wasted-space/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
